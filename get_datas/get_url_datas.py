import requests
from bs4 import BeautifulSoup
import re

url = ['https://th.suning.com/calCpcClicks?adtype=1&tid=103306547210000000620200831&cmdCode=11592114105&companyCode=0000000000&s=&k=kom%2b%2bhgMfvaHQgdXNQDt2dsjMYdGSiDjR2UHOnEWoTIuowtIPiUVRAmvermdWV43ztdGK%2fY1guu8hiAM5eYH2QQNrf2CfyDx%2bGHmnmdcMPPR5fgtRuXswEWMn0Y6lvBxFNWBV1o6rX5tM8j65piIIKCI%2fb%2fZQmn2rlIGpa2zSeyAq7Vh8TxPBTRIlB0Y25TyjOGpg4PzNBMRN8mnqaRd3iM92oH8BfLdvGdrV15y%2fcf1MQHjsBdnTcBFoY5PCF0z8sgD8zhlUT%2f6PCKpiZUCFCwGzfe5U49zhj9jZVv58g6RN8AmsTy9MIJ%2fh3qM0%2f64YhBi2R6Tg%2fgYAjBwV9aWU5yEr%2beEmDiqIMqnGoJ7mqvFi7j3cHty3dfpjpqsQFLW5MyR5E5sN0qMySGIGtYydKgfi4aFrAZX33uX%2fkMqmf66PDoqIucvtCr8XBY2Tm1GVDjDsIJQrFfmcQe7Fi6pqIcrZip8Xbt3Hyu9QLA5H4MMc5EkRr%2b72ihca9oGTR7cZ6pIgGuX2bYF8Ew8KSSaC1zg%2fxLB8rHXUATLNhuNlHMG9jfPXIH22ZHr%2fwz%2bDS9i7uplvqBNcaOBpksxr77JWQ%3d%3d&clickUrl=http%3a%2f%2fproduct.suning.com%2f0000000000%2f11592114105.html&click_id=IQGmMC90PI7pBkGA1000000000000000000Mu3X11', 'https://product.suning.com/0000000000/11346312294.html', 'https://product.suning.com/0000000000/11343357124.html', 'https://th.suning.com/calCpcClicks?adtype=1&tid=103306717810000000620200831&cmdCode=11210599101&companyCode=0000000000&s=&k=kom%2b%2bhgMfvaHQgdXNQDt2dsjMYdGSiDjR2UHOnEWoTJ6rrmbGbmtoy8SVCbmWan%2fEtlZJ0YL3db1rmldn3sGAPCsHF9Mrb1WzK0ba6u2odDFUdYSC88GTab6f0nMTrS%2fGrORn4JmNzYdyP38tN3FS%2f61JO7tHPKGmTZCQOOhoAPLVm9frgONGl1kNzEm3ikMe09%2bzzm%2fey659mrcUnwxwrzrgW5xsosJkxAStt%2bDCwc6GZRa6KLb182KhA%2b23LMU1M14n4m%2bjqFfPNIvlGxk3dnDI4WjOUQOpW6p3PuXS74IZWWdyFyN1Sk8M4zuu9Of9IzNEhWVU9KHr9bl5UoY7GM2dUPEQFm7el84BHhhdp68%2bjJW8Q1GCebFA7UF2BU9zCuxwJy5Vrlh94pWA2F8qdeg2JrRLXlF6lgHPAz%2bGDJ90FzS4BGzKrHXZ%2bonPCdC6WGPQSBKhj2%2biu7wjPozVrHHzFR3rQ5NwdiWcAc2a2P78oYvfwFnKAKKO6HQ4e7JXj1bG5J%2fD1JfVQf%2bZJIRISQX2BvdQ97oss%2f7Cil%2baSXiwVjkcIN6LhKLmDL3%2bqm4ZJ06Tbp4A5wZ6lKHue%2foKw%3d%3d&clickUrl=http%3a%2f%2fproduct.suning.com%2f0000000000%2f11210599101.html&click_id=IQGmMC90PI7pBtL81000000000000000000AxuV11', 'https://product.suning.com/0000000000/11346320883.html', 'https://product.suning.com/0070094634/11370430021.html', 'https://product.suning.com/0000000000/11177564405.html', 'https://th.suning.com/calCpcClicks?adtype=1&tid=104103237210000000620200831&cmdCode=11926582930&companyCode=0000000000&s=&k=kom%2b%2bhgMfvaHQgdXNQDt2dsjMYdGSiDjR2UHOnEWoTI89C%2fKSlZSG0W4G%2flSmuRsBACu7k50CEr8lhlKkBmtW9EE2zkg3ID0nvpHpGaxLSpA%2bwbQmYzJD0ncJElQ%2bbNb8hK3QUaWnh5RXa4j14GnHxKxPIPRvwPPlUlZnH08sV%2f2bSn3IhNGmq4pxE5OQaFCIzUTOmoBMskZxchQiB0lRqF1ZoAOePENNZC8YWQyWyYN%2f1pvsytW5mDdedSGFdZ5ri1bB0Rev6IQbTYO%2fEL%2bbuDYRRupRfEUGVubJBFmPqxUk%2bXEfCoby2UtEBfgTKytM7izPHLjs8B%2fgy26OsVAZoJVEOIIyZeLZfr%2bbcH2HwLeEDo1p39jkvj4waYEqAGWtbw6t7gaW1paPc03dZ4CsDQDbmvlQCScbrWhXDBMUTltktz9pB5pkI2%2blVGDEqSqBW1bGdyMg4tN872%2br%2f1XC2PrYK9qMxzmUK4fJii5yiN%2b9%2bNdTs2ufpuflGtyqhpyrSpgYtnTmMb3YcO7iWOV%2ftGMM6C7oLCzDgOU70lqqZ%2b1d%2fF5mgL0ODuxkrMMIWg0wiHssOcxyRsCmK2E3qScmw%3d%3d&clickUrl=http%3a%2f%2fproduct.suning.com%2f0000000000%2f11926582930.html&click_id=IQGmMC90PI7pBnAH1000000000000000000qZUa11', 'https://product.suning.com/0000000000/11548000889.html', 'https://product.suning.com/0000000000/11366594011.html', 'https://product.suning.com/0000000000/10973073437.html', 'https://th.suning.com/calCpcClicks?adtype=1&tid=103905645110000000620200831&cmdCode=11926530773&companyCode=0000000000&s=&k=kom%2b%2bhgMfvaHQgdXNQDt2dsjMYdGSiDjR2UHOnEWoTLVofW9M6QhoJkHJY%2bLH5ZAcvqM8W3j1ADRvbVp9qIrmCJKUFN9M1fgsFxLQyRF2dWe4Nv05mCZ1K5r7uGWfPx1MjpeVp3FLvUdgTM47xSknwFXcMR4ab1EgffCUoNpPHWw%2btKxZRF9gfRr%2bpDOBpgSfaYH5Exi76sXwZcyWwEHdqteoMw1u8p0NlnUw2PqC%2f4T54Mln2XLh6B8NsvCV2rRIgPfq2FOuidHO%2fI5UyjxS%2bBzAPnNaHFihKisfUuH7VwHx540I%2bAk27%2fTnAM5LYEjDru6%2bbeNtDGnaN6pFU7sbNPLXn7G6uHbilqen2rr56saMjKhyw%2fC3Rz1kIQnJg7GYpbHWDiXOm9xsPA0gqixDUk9A%2bNJQfGlZEQxPQ%2fsfMcZqCUycfJjiEboq6p91z2%2b5ICCFUWy70sg5Z01LrN%2bfVWG%2ba%2bmwdM1XIIfoes5VDAgxzpXCp1ron6Bk3cgB9FSyYSJAyLGR%2bNWtzJs5l93ZwNKIlBhHegKma5Lr7ELgEuY4kh59LVKpGKSqLkm4xpGM%2budd1OyicnXhA9VI%2foxJg%3d%3d&clickUrl=http%3a%2f%2fproduct.suning.com%2f0000000000%2f11926530773.html&click_id=IQGmMC90PI7pBYGA1000000000000000000JZ5Z11', 'https://product.suning.com/0000000000/11842691634.html', 'https://product.suning.com/0000000000/11438775506.html', 'https://product.suning.com/0000000000/11590518911.html', 'https://product.suning.com/0000000000/11446013957.html', 'https://product.suning.com/0000000000/11755553485.html', 'https://th.suning.com/calCpcClicks?adtype=1&tid=104077484810000000620200831&cmdCode=12104137532&companyCode=70986642&s=&k=kom%2b%2bhgMfvaHQgdXNQDt2dsjMYdGSiDjR2UHOnEWoTLsEd4cZP0G%2b%2fBHd2yT7RacMqJf5YEud9qjWLFNN1QAe1IQlApyd0Cgaa11w2t%2ba5F5CNlcqnV04UQPQAdsB7VkD6gHeM9iedvIP3pPYepW7Isc9i8lHZbT10Tl3C01wicBdxvE2rUqLdJnOK8vuinbZbkr2drWGeD9pLzo358CrzGB0t6bfDuDTxz8J%2b4EVKqimTSRY%2fTEUz5YpwSoQSiOOXht%2bupPa3Pcp%2fFD1TUJPsULAwOvjg6Hr2Q2SLIgxXwCSlTcx3gE2ztpkTBg1RKsXpWAq%2fxtCV%2bG0xtnyuMksDp4ORgV%2b%2fU4dAqgSW61VkbUE2Peuc58IZADtSwaW1gQ1skPWz17QLRCPfrACsRpd7MiyY4ibl%2fzTChmcMwUdbV9P5NpMzuW7V1Vpf4WNHN6xIGIi2zP6cMUKHZ9UBqnm5RalyZa2B7m4Fb5w1YPtEd1t1X8IUjht9YgahNbEK6GFx794cvfjYxQR3WbaiQzizJiu%2bY5SylGsYeNJTFpEi5Jb5e3ddkKqDQTampyWI%2bU5LL2XLf2QjxlGHAbjBJi4Q%3d%3d&clickUrl=http%3a%2f%2fproduct.suning.com%2f0070986642%2f12104137532.html&click_id=IQGmMC90PI7pBwtC1000000000000000000PwVa11', 'https://product.suning.com/0000000000/11842713483.html', 'https://product.suning.com/0000000000/945097602.html', 'https://product.suning.com/0000000000/945097597.html', 'https://product.suning.com/0000000000/11346304392.html', 'https://product.suning.com/0070517287/11588732992.html', 'https://th.suning.com/calCpcClicks?adtype=1&tid=103948296810000000620200831&cmdCode=11735849299&companyCode=0000000000&s=&k=kom%2b%2bhgMfvaHQgdXNQDt2dsjMYdGSiDjR2UHOnEWoTKpCCwd93bgQFpD82MsJX%2bZZr7BB9qnThuhZNqUm%2feRlW8m3fuyHsO0z%2fDqkpe5Qt9nxQUx1W7m7nR%2bjbvgLo6CaKcHBkzt5XitdrTF5lF%2bEC32eZP7yCRq5eip5JdGwT%2fhkxzZRXX2NacTtcP8y%2ffqk1wVwFGJCoHYv22Lljgdf2WQjUIsrAL%2fCaNCkqjBTZMD1rTImCCIxpu7S75IenZn23R0FyXOf2IOEzQWpMVoOhCU9pBS9YLCuOD9tbYWHa9TkDXGGcD%2bfLrs6Jw9W1RY9TfnZUxhTlES5NievP8oC6vjydPw%2bjHQOzylHmFzQn9oWwXiBHRLKqPaeWCeF2DxSDSsBD%2fY7yeJH4SCPryjpuCdkMZilymgCSgt5Q4%2bSJyEnoG9pw7zqrbzV0IcovkHJZd9PGi8m2%2fMT%2brPcvIGno1BzxtKuuv97g6MiIqw5zpatonwVIEr3UnkRBqKtN7G7UrVxJXlbRhBv89D6z01GabAsqw2X%2bcmzlVC599mkiEwVX4%2bdL26toF2V8GXXFcYJR%2fjoM1boXG%2b9%2b1IL0XEkg%3d%3d&clickUrl=http%3a%2f%2fproduct.suning.com%2f0000000000%2f11735849299.html&click_id=IQGmMC90PI7pBH5K1000000000000000000QXyg11', 'https://product.suning.com/0000000000/11548000822.html', 'https://product.suning.com/0000000000/11346304317.html', 'https://product.suning.com/0000000000/11842713201.html', 'https://product.suning.com/0000000000/945097591.html', 'https://product.suning.com/0000000000/945097598.html', 'https://product.suning.com/0000000000/945097592.html', 'https://product.suning.com/0000000000/10597918588.html', 'https://product.suning.com/0000000000/11405411303.html', 'https://product.suning.com/0000000000/945090618.html', 'https://product.suning.com/0000000000/945080898.html', 'https://product.suning.com/0000000000/11755554544.html', 'https://product.suning.com/0070145427/11867306902.html', 'https://product.suning.com/0000000000/945074977.html', 'https://product.suning.com/0000000000/11780848073.html', 'https://product.suning.com/0000000000/11735849499.html', 'https://product.suning.com/0000000000/11842713012.html', 'https://product.suning.com/0000000000/11893600641.html', 'https://product.suning.com/0000000000/11780848076.html', 'https://product.suning.com/0000000000/945074978.html', 'https://product.suning.com/0070234979/11502080538.html', 'https://product.suning.com/0070094634/11440568569.html', 'https://product.suning.com/0000000000/11061298097.html', 'https://product.suning.com/0070094634/11759045731.html', 'https://product.suning.com/0070094634/11280674969.html', 'https://product.suning.com/0000000000/945097599.html', 'https://product.suning.com/0000000000/11780848082.html', 'https://product.suning.com/0000000000/11346660596.html', 'https://product.suning.com/0000000000/11737992795.html', 'https://product.suning.com/0000000000/11735849154.html', 'https://product.suning.com/0000000000/11346304368.html', 'https://product.suning.com/0000000000/11737994223.html', 'https://product.suning.com/0000000000/11842713320.html', 'https://product.suning.com/0000000000/11346304275.html', 'https://product.suning.com/0000000000/11210599215.html', 'https://product.suning.com/0070215654/11432208890.html', 'https://product.suning.com/0070094634/11370397758.html', 'https://product.suning.com/0000000000/11446042332.html', 'https://product.suning.com/0070216052/10580775512.html', 'https://product.suning.com/0000000000/11893601747.html', 'https://product.suning.com/0000000000/11893600848.html', 'https://product.suning.com/0070517287/11370471696.html', 'https://product.suning.com/0000000000/11735849372.html', 'https://product.suning.com/0000000000/11755553799.html', 'https://product.suning.com/0000000000/11933280245.html', 'https://product.suning.com/0000000000/11737992627.html', 'https://product.suning.com/0000000000/10989700182.html', 'https://product.suning.com/0000000000/10894716306.html', 'https://product.suning.com/0000000000/11919007125.html', 'https://product.suning.com/0000000000/10908279639.html', 'https://product.suning.com/0000000000/11798357581.html', 'https://product.suning.com/0000000000/11737995007.html', 'https://product.suning.com/0000000000/11891009766.html', 'https://product.suning.com/0000000000/11379531405.html', 'https://product.suning.com/0000000000/11828270274.html', 'https://product.suning.com/0000000000/945097604.html', 'https://product.suning.com/0070103363/11737899939.html', 'https://product.suning.com/0000000000/11346660592.html', 'https://product.suning.com/0070216052/11842967102.html', 'https://product.suning.com/0000000000/11755554276.html', 'https://product.suning.com/0000000000/11783954528.html', 'https://product.suning.com/0000000000/11592114415.html', 'https://product.suning.com/0000000000/11844681241.html', 'https://product.suning.com/0000000000/11778315039.html', 'https://product.suning.com/0070094634/11843291695.html', 'https://product.suning.com/0000000000/11737994535.html', 'https://product.suning.com/0000000000/11737992263.html', 'https://product.suning.com/0000000000/10728463651.html', 'https://product.suning.com/0070145427/10650909293.html', 'https://product.suning.com/0000000000/11755554055.html', 'https://product.suning.com/0070094634/10989586988.html', 'https://product.suning.com/0000000000/11210598958.html', 'https://product.suning.com/0000000000/644592910.html', 'https://product.suning.com/0000000000/11780848079.html', 'https://product.suning.com/0070094634/11370429967.html', 'https://product.suning.com/0071137986/11883888332.html', 'https://product.suning.com/0070216052/11842966965.html', 'https://product.suning.com/0000000000/11346660623.html', 'https://product.suning.com/0070142956/11598108340.html', 'https://product.suning.com/0000000000/11926556538.html', 'https://product.suning.com/0000000000/656277805.html', 'https://product.suning.com/0000000000/11735848872.html', 'https://product.suning.com/0070857172/11370547176.html', 'https://product.suning.com/0000000000/11737993965.html', 'https://product.suning.com/0000000000/11735849739.html', 'https://product.suning.com/0000000000/11832285151.html', 'https://product.suning.com/0070096875/11382646817.html', 'https://product.suning.com/0000000000/11832285301.html', 'https://product.suning.com/0000000000/11547922946.html', 'https://product.suning.com/0000000000/11923598627.html', 'https://product.suning.com/0000000000/945095428.html', 'https://product.suning.com/0000000000/11893601005.html', 'https://product.suning.com/0070094634/11383691854.html', 'https://product.suning.com/0070094634/11370430000.html', 'https://product.suning.com/0000000000/11842692304.html', 'https://product.suning.com/0000000000/945097595.html', 'https://product.suning.com/0000000000/11735848940.html']


# url = 'https://list.jd.com/list.html?cat=9987,653,655'

new_headers = {
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"
}

response = requests.get('https://item.jd.com/100007958784.html', headers=new_headers)
html = response.content.decode()  # bytes>str

print(html)

with open('100007958784.html', 'w') as f:
    f.write(html)

with open('100007958784.html', 'r') as f:
    html = f.read()
    # print(html)

soup = BeautifulSoup(html, 'lxml')
# 商品标题
# print(soup.find_all(attrs={'class': 'sku-name'}))
title_list = soup.find_all(attrs={'class': 'sku-name'})
title = str(title_list[0]).replace("\n", "")
# 正则表达式 最小匹配
p1 = re.compile(r'''">                                                            (.*?)                <''', re.S)
# print(re.findall(p1, title))

# 商品编号
title1_list = soup.find_all(attrs={'class': "parameter2 p-parameter-list"})
p2 = re.compile(r'''商品编号：(.*?)</li>''', re.S)  # 最小匹配
# print(re.findall(p2, str(title1_list[0])))

# 商品价格
price_list = soup.find_all(attrs={'class': "summary-price-wrap"})
# print(price_list)


# 商品图片
ul_list = soup.find_all(attrs={'class': "img-hover"})
print(ul_list)
print(str(ul_list).split('<li'))
p3 = re.compile(r'''src="(.*?)"''', re.S)  # 最小匹配
image_list = re.findall(p3, str(price_list[0]))
print(image_list)
new_html_list = list()
for i in image_list:
    html = 'http:'+i
    new_html_list.append(html)
print(new_html_list)